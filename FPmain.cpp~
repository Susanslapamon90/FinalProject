#include "main_function.h"
#include "process.h"
using namespace std;

enum commandList {LOGIN, CREATE, DELETE, MERGE, 
				DEPOSIT, WITHDRAW, TRANSFER, FIND, SEARCH};
int findCommand(char *command){
	char *commandString[9] = {"login", "create", "delete", "merge", 
							"deposit", "withdraw", "transfer", "find", "search"};
    int i;
    for(i = 0; i < 9; i++)
        if(strcmp(command, commandString[i]) == 0)
            return i;
    exit(-1);
}

int main(int argc, char **argv){
	Customer* USER_NOW = NULL;
	int TIME_CNT = 0; /* for history */
	char command[10];

	while(1){
		scanf("%s", command);
		/*if(strcmp(command, "exit") == 0
		 ||strcmp(command, "quit") == 0
		 ||strcmp(command, "bye") == 0
		 ||strcmp(command, "close") == 0){
			cout << "See you next time! Bye~" << endl;
			return 0;
		}*/ /* additional feature */
		switch(findCommand(command)){
            case LOGIN:
            	processLogin(USER_NOW);
                break;
            case CREATE:
            	processCreate();
                break;
            case DELETE:
                processDelete(USER_NOW);
                break;
            case MERGE:
            	processMerge();
                break;
            case DEPOSIT:
                processDeposit();
				break;
			case WITHDRAW:
            	processWithdraw();
                break;
            case TRANSFER:
            	processTransfer();
                break;
            case FIND:
            	processFind();
                break;
            case SEARCH:
            	processSearch();
                break;
        }
	}

	return 0;
}
