#include "process.h"
using namespace std;

enum commandList {LOGIN, CREATE, DELETE, MERGE, 
		  DEPOSIT, WITHDRAW, TRANSFER, FIND, SEARCH};
int findCommand(char *command){
	char *commandString[9] = {"login", "create", "delete", "merge", 
		"deposit", "withdraw", "transfer", "find", "search"};
	int i;
	for(i = 0; i < 9; i++)
        	if(strcmp(command, commandString[i]) == 0)
            return i;
    exit(-1);
}

int main(int argc, char **argv){
	Customer* USER_NOW = NULL;
	int TIME_CNT = 0; /* for history */
	char command[10];
	Set<INDEX> idset;
	
	while(1){
		scanf("%s", command);
		
		switch(findCommand(command)){
            		case LOGIN:
            			processLogin(USER_NOW);
                		break;
            		case CREATE:
            			processCreate(idset);
                		break;
            		case DELETE:
                		processDelete(idset);
                		break;
            		case MERGE:
				processMerge();
                		break;
            		case DEPOSIT:
                		processDeposit(USER_NOW);
				break;
			case WITHDRAW:
            			processWithdraw(USER_NOW);
                		break;
            		case TRANSFER:
            			processTransfer(USER_NOW,TIME_CNT);
                		break;
            		case FIND:
            			processFind(USER_NOW);
                		break;
            		case SEARCH:
            			processSearch(USER_NOW);
                		break;
        	}
	}
	return 0;
}
